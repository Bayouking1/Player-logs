{"slots":{"0":{"name":"databank","type":{"events":[],"methods":[]}},"1":{"name":"screen","type":{"events":[],"methods":[]}},"2":{"name":"receiver","type":{"events":[],"methods":[]}},"3":{"name":"emitter","type":{"events":[],"methods":[]}},"4":{"name":"detection","type":{"events":[],"methods":[]}},"5":{"name":"screen2","type":{"events":[],"methods":[]}},"6":{"name":"screen3","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-2":{"name":"system","type":{"events":[],"methods":[]}},"-3":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"if channel == \"dbnames\" and message == \"send\" then\n data = databank.getStringValue(\"dlist\")      \n    emitter.send(\"dbnames\",data)\n    elseif channel == \"dbnames\" and message == \"OFF\" then\n   unit.exit()\n    end","filter":{"args":[{"variable":"*"},{"variable":"*"}],"signature":"receive(channel,message)","slotKey":"2"},"key":"0"},{"code":"table.insert(known_players,database.getPlayer(id).name..[[]]..database.getPlayer(id).id)\nlocal Detectedhtml = \"\"\nfor _, name in pairs(known_players) do\nDetectedhtml = Detectedhtml .. \"<div style=font-size:10vh>LEFT DETECTOR AREA<p><div style=font-size:10vh>\"..database.getPlayer(id).id..\"&nbsp;\".. database.getPlayer(id).name ..\"\\n\"\n\n\nend \nscreen3.setHTML(Detectedhtml)\ndatabank.setStringValue(\"Detected\",\"<div style=font-size:5vh>ID\"..\"&nbsp;\"..database.getPlayer(id).id..\"&nbsp;\".. database.getPlayer(id).name..\"<p>\")\ndatabank.setStringValue(\"ChkDet\",database.getPlayer(id).name)\n","filter":{"args":[{"variable":"*"}],"signature":"leave(id)","slotKey":"4"},"key":"1"},{"code":"data = databank.getStringValue(\"dlist\")  \ndata2 = databank.getStringValue(\"ProgBname\")  \nDetectedhtml = \"\"\nDetectedhtml = Detectedhtml ..data..\"&nbsp; DT<p>\" ..data2.. \"&nbsp; PB \\n\"\nscreen.setHTML(Detectedhtml)\n\n","filter":{"args":[],"signature":"stop()","slotKey":"-1"},"key":"2"},{"code":"Detectedhtml = \"\"\nplayerna = unit.getMasterPlayerId()\nplayernames = system.getPlayerName(playerna)\n\nDetectedhtml = Detectedhtml .. \"<div style=font-size:10vh>IN DETECTOR AREA<p><div style=font-size:10vh>\"..playerna..\"&nbsp;\".. playernames ..\"\\n\"\n\n\nscreen3.setHTML(Detectedhtml)\ndatabank.setStringValue(\"ProgBnamechk\",\"<div style=font-size:5vh>ID&nbsp;\"..playerna..\"&nbsp;\".. playernames ..\"<p>\")\ndatabank.setStringValue(\"ProgBnamechklist\",playernames)\n\n\nknown_players = {}\n\nplayercheckstr = databank.getStringValue(\"Detected\")\nplayerlist = databank.getStringValue(\"dlist\")\nchkdet = databank.getStringValue(\"ChkDet\")\nhtml2 = \"\"\n\n\nif string.find(playerlist, chkdet) == nil then\n    finalplayerlist = playerlist..playercheckstr\n    databank.setStringValue(\"dlist\",playerlist..playercheckstr)    \n        checkstat = \"DT Logged into DB\"\nhtml2 = html2.. finalplayerlist..\"&nbsp;\".. checkstat ..\"\\n\"\nscreen2.setHTML(html2)\n\n    \n    elseif string.find(playerlist, chkdet) ~= nil then\n    checkstat = \"Scanned\"\n    finalplayerlist = \"DT Already\"\n    html2 = html2.. \"<div style=font-size:8vh>\".. finalplayerlist..\"&nbsp;\".. checkstat ..\"\\n\"\nscreen2.setHTML(html2)\n \nend\n\n\nplayerboardchk = databank.getStringValue(\"ProgBnamechk\")\nplayerboardlist = databank.getStringValue(\"ProgBname\")\nplayerboardchklist =  databank.getStringValue(\"ProgBnamechklist\")\n\nif string.find(playerboardlist, playerboardchklist) == nil then\n    progboardnamfin = playerboardlist..playerboardchk\n    databank.setStringValue(\"ProgBname\",progboardnamfin)    \n        checkstat = \"PB Logged Into DB\"\nhtml2 = html2.. \"<div style=font-size:8vh>\".. progboardnamfin..\"&nbsp;\".. checkstat ..\"\\n\"\nscreen2.setHTML(html2)    \n    elseif string.find(playerboardlist, playerboardchklist) ~= nil then\n    checkstat = \"Scanned\"\n    progboardnamfin = \"PB Already\"\n    html2 = html2.. \"<div style=font-size:8vh>\".. progboardnamfin..\"&nbsp;\".. checkstat ..\"\\n\"\nscreen2.setHTML(html2)\n    screen2.setHTML(html2)\nend\n\n\n","filter":{"args":[],"signature":"start()","slotKey":"-1"},"key":"3"},{"code":"playercheckstr = dbnames.getStringValue(\"Detected\")\nplayerlist = dbnames.getStringValue(\"dlist\")\nchkdet = dbnames.getStringValue(\"ChkDet\")\nhtml2 = \"\"\n\n\nif string.find(playerlist, chkdet) == nil then\n    finalplayerlist = playerlist..playercheckstr\n    dbnames.setStringValue(\"dlist\",playerlist..playercheckstr)    \n        checkstat = \"DT Logged into DB\"\nhtml2 = html2.. finalplayerlist..\"&nbsp;\".. checkstat ..\"\\n\"\nscreen2.setHTML(html2)\n\n    \n    elseif string.find(playerlist, chkdet) ~= nil then\n    checkstat = \"Scanned\"\n    finalplayerlist = \"DT Already\"\n    html2 = html2.. \"<div style=font-size:8vh>\".. finalplayerlist..\"&nbsp;\".. checkstat ..\"\\n\"\nscreen2.setHTML(html2)\n \nend\n\n\nplayerboardchk = dbnames.getStringValue(\"ProgBnamechk\")\nplayerboardlist = dbnames.getStringValue(\"ProgBname\")\nplayerboardchklist =  dbnames.getStringValue(\"ProgBnamechklist\")\n\nif string.find(playerboardlist, playerboardchklist) == nil then\n    progboardnamfin = playerboardlist..playerboardchk\n    dbnames.setStringValue(\"ProgBname\",progboardnamfin)    \n        checkstat = \"PB Logged Into DB\"\nhtml2 = html2.. \"<div style=font-size:8vh>\".. progboardnamfin..\"&nbsp;\".. checkstat ..\"\\n\"\nscreen2.setHTML(html2)\nunit.exit()\n    \n    elseif string.find(playerboardlist, playerboardchklist) ~= nil then\n    checkstat = \"Scanned\"\n    progboardnamfin = \"PB Already\"\n    html2 = html2.. \"<div style=font-size:8vh>\".. progboardnamfin..\"&nbsp;\".. checkstat ..\"\\n\"\nscreen2.setHTML(html2)\n    screen2.setHTML(html2)\nend\n\n","filter":{"args":[{"value":"test"}],"signature":"tick(timerId)","slotKey":"-1"},"key":"4"},{"code":"databank.clear()","filter":{"args":[{"value":"option1"}],"signature":"actionStart(action)","slotKey":"-2"},"key":"5"}],"methods":[],"events":[]}
